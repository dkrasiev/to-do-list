<div (click)="closeSidenav()" style="height: 100vh">
  <div class="container">
    <h1 class="title">{{ title | titlecase }}</h1>
    <app-todo-filter></app-todo-filter>
    <app-todo-sorting></app-todo-sorting>
    <app-todo-list class="todo-list" [addInput]="true"></app-todo-list>

    <div class="sidenav-btn">
      <button mat-icon-button (click)="toggleSidenav()" appStopPropagation>
        <mat-icon>menu</mat-icon>
      </button>
    </div>
  </div>
</div>

<app-modal [(state)]="isModalOpen">
  <app-todo-list [addInput]="true"></app-todo-list>
</app-modal>

<app-sidenav appStopPropagation>
  <div class="sidenav-content">
    <app-group i18n-title="account" title="ACCOUNT" titleAlign="center">
      <div *ngIf="auth.user | async; else noUser">
        <div>
          <div>
            {{ (auth.user | async)?.displayName }}
          </div>
          <div>
            {{ (auth.user | async)?.email }}
          </div>
        </div>
        <button
          i18n="accountExit"
          mat-button
          (click)="auth.signOut()"
          style="width: 100%"
        >
          Exit
        </button>
      </div>
      <ng-template #noUser i18n="notLoggedIn">
        Your are not logged in
      </ng-template>

      <firebase-ui></firebase-ui>
    </app-group>
    <app-group
      i18n-title="@@usersFeatures"
      title="USERS FEATURES"
      titleAlign="center"
    >
      <mat-slide-toggle
        i18n="@@darkmode"
        style="margin: auto"
        [(ngModel)]="isDarkMode"
        (change)="onDarkModeChange()"
        >dark mode</mat-slide-toggle
      >
    </app-group>
    <app-group
      i18n-title="@@forTesting"
      title="FOR TESTING"
      titleAlign="center"
    >
      <button i18n="@@loadTodos" mat-button (click)="getTodos()">
        load todos
      </button>
      <button i18n="@@clearTodos" mat-button (click)="clearTodos()">
        clear todos
      </button>
      <button i18n="@@openModal" mat-button (click)="openModal()">
        open modal
      </button>
    </app-group>
  </div>
</app-sidenav>
